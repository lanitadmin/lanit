<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Package xmlns="http://www.wfmc.org/2002/XPDL1.0" xmlns:xpdl="http://www.wfmc.org/2002/XPDL1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Id="adapter" Name="Адаптер" xsi:schemaLocation="http://www.wfmc.org/2002/XPDL1.0 http://wfmc.org/standards/docs/TC-1025_schema_10_xpdl.xsd">
    <PackageHeader>
        <XPDLVersion>1.0</XPDLVersion>
        <Vendor>LANIT-Samara</Vendor>
        <Created>2008-09-27 19:47:47</Created>
    </PackageHeader>
    <RedefinableHeader>
        <Author>Zhnyakin</Author>
    </RedefinableHeader>
    <ConformanceClass GraphConformance="NON_BLOCKED"/>
    <Script Type="text/javascript"/>
    <Participants>
        <Participant Id="Kontroler" Name="Ответственный за контроль">
            <ParticipantType Type="ROLE"/>
        </Participant>
        <Participant Id="DirectorOIV" Name="Руководитель ОИВ">
            <ParticipantType Type="ROLE"/>
        </Participant>
    </Participants>
    <Applications>
        <Application Id="assignVariable" Name="assignVariable">
            <FormalParameters>
                <FormalParameter Id="param" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.enhydra.shark.toolagent.JavaScriptToolAgent"/>
                <ExtendedAttribute Name="Script" Value="result = param"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="createDocPackage" Name="createDocPackage">
            <FormalParameters>
                <FormalParameter Id="Service" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Komplekt_doc" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="zayavitelId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="goalId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.GossrvcDocPackagePlugin"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="invokeEntityMethod" Name="invokeEntityMethod">
            <FormalParameters>
                <FormalParameter Id="entityClass" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="entityId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="methodName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="methodArgs" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="methodResult" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsInvokeObjectMethodAgent"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="createApplication" Name="createApplication">
            <FormalParameters>
                <FormalParameter Id="Service" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="docPackId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="zayavitelId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="appNumb" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="createdApplication" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.GossrvcApplicationPlugin"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="createRequest" Name="createRequest">
            <FormalParameters>
                <FormalParameter Id="ogvId" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="docPackId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="zayavitelId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="createdRequest" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="reqNumb" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="docsFromOgv" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.GossrvcRequestPlugin"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="createReject" Name="createReject">
            <FormalParameters>
                <FormalParameter Id="serviceid" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="docPackId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="zayavitelId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="createdReject" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
        </Application>
        <Application Id="getEntityPropertiesByLong" Name="Получить свойства объекта (long)">
            <FormalParameters>
                <FormalParameter Id="entityClass" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="entityId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="propertiesList" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="variableList" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsGetObjectPropsAgent"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="completeActivity" Name="Завершитть действие">
            <FormalParameters>
                <FormalParameter Id="activityId" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CSCompleteActivity"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="assignVariableInt" Name="Задать целочисленную переменную">
            <FormalParameters>
                <FormalParameter Id="param" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.enhydra.shark.toolagent.JavaScriptToolAgent"/>
                <ExtendedAttribute Name="Script" Value="result = param"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="setEntityPropertiesByLong" Name="Задать свойства объекта (long)">
            <FormalParameters>
                <FormalParameter Id="entityClass" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="entityId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="propertiesList" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="variableList" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsSetObjectPropsAgent"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="printDocTemplate">
            <FormalParameters>
                <FormalParameter Id="docTypeId" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="docPackageId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="zayavitelId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="printDocCounter" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="printDocId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.PrintDocPlugin"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="getRefPropAgent" Name="Получить дополнительное поле справочника">
            <FormalParameters>
                <FormalParameter Id="element" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="field" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsGetRefPropAgent"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="SetupForkProcessesForOgvRequest" Name="SetupForkProcessesForOgvRequest">
            <FormalParameters>
                <FormalParameter Id="komplektVarName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="forkSetupVarName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="docsVarName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="ogvVarName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="ddlVarName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="mergeSumVars" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="mergeValidateVars" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="mergeMaxVars" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.SetupForkProcessesForOgvRequest"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="ForkProcessesBySetup" Name="ForkProcessesBySetup">
            <FormalParameters>
                <FormalParameter Id="setupId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.ForkProcessesBySetup"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="ProcessRequestTerminate" Name="Завершение экземпляров процессов">
            <FormalParameters>
                <FormalParameter Id="docPackId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.ProcessRequestTerminate"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="loginPart">
            <FormalParameters>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.SetLoggedUser"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="activityTerminate" Name="Завершение шагов процессов">
            <FormalParameters>
                <FormalParameter Id="procId" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="actId" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="docPackId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="varName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="varValue" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.ActivityTerminatePlugin"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="WSTransferRequest2Ogv" Name="Вызов Веб-сервиса передачи запроса в ОГВ">
            <FormalParameters>
                <FormalParameter Id="Event" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="packId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="reqId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="ogvId" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="docsExpected" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="kontrPart" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.RaiseEventPlugin"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="queryResultInt" Name="Выполнение sql запроса (рез-т: число)">
            <FormalParameters>
                <FormalParameter Id="query" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsEjbqlResult"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="queryVarParamsIntResult" Name="Выполнение параметризованного запроса(INTEGER)">
            <FormalParameters>
                <FormalParameter Id="query" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="params_variable" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsVarParamsEjbResult"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="queryVarParamsStringResult" Name="Выполнение параметризованного запроса(STRING)">
            <FormalParameters>
                <FormalParameter Id="query" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="params_variable" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsVarParamsEjbResult"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="invokeWithParams" Name="Вызов метода с параметрами">
            <FormalParameters>
                <FormalParameter Id="entityClass" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="object" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="method" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="args" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsInvokeObjectMethodWithParamsAgent"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="queryResultStr" Name="Выполнение sql запроса (рез-т: строка)">
            <FormalParameters>
                <FormalParameter Id="query" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsEjbqlResult"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="getAppSetting" Name="Получение значения параметра из настроек (AppSetting)">
            <FormalParameters>
                <FormalParameter Id="paramName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsGetAppSetting"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="savePackStatus" Name="Запись статуса пакет документов">
            <Description>Запись статуса пакет документов</Description>
            <FormalParameters>
                <FormalParameter Id="id" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                    <Description>id пакета документов</Description>
                </FormalParameter>
                <FormalParameter Id="status" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <Description>код статуса</Description>
                </FormalParameter>
                <FormalParameter Id="mode" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <Description>1-Начало,2-Конец,пусто - время не меняем</Description>
                </FormalParameter>
                <FormalParameter Id="ddl" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="varsName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <Description>Список переменных через запятую</Description>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsSavePackStatus"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="savePackStatusFull" Name="Запись статуса пакет документов Full">
            <FormalParameters>
                <FormalParameter Id="id" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="status" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="mode" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="ddl" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="varsName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="begStatus" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="endStatus" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsSavePackStatus"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="FreemarkerPlugin" Name="Трансформация шаблона через freemarker">
            <FormalParameters>
                <FormalParameter Id="run" Mode="IN">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="template" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="docxml" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="resultMsg" Mode="INOUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.ExecuteFreemarkerPlugin"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="sendSoapRequest" Name="Посылка SOAP запроса">
            <Description>Посылка SOAP запроса</Description>
            <FormalParameters>
                <FormalParameter Id="run" Mode="IN">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="url" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <Description>url</Description>
                </FormalParameter>
                <FormalParameter Id="action" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <Description>метод</Description>
                </FormalParameter>
                <FormalParameter Id="body" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <Description>тело запроса</Description>
                </FormalParameter>
                <FormalParameter Id="timeout" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                    <Description>timeout в миллисекундах</Description>
                </FormalParameter>
                <FormalParameter Id="response" Mode="OUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="INOUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <Description>Текстовый статус вызова сервиса</Description>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.SendSoapRequest"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="completeIntegrationActivity" Name="Завершение задачи ожидания">
            <FormalParameters>
                <FormalParameter Id="Zapros" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                    <Description>Параметр должен называться как переменная запроса</Description>
                </FormalParameter>
                <FormalParameter Id="result" Mode="IN">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CompleteIntegrationActivity"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="completeCustomActivity" Name="Завершить любую задачу">
            <FormalParameters>
                <FormalParameter Id="activity" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="param1" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CompleteCustomActivity"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="assignVariableDate" Name="assignVariableDate">
            <FormalParameters>
                <FormalParameter Id="param" Mode="IN">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.enhydra.shark.toolagent.JavaScriptToolAgent"/>
                <ExtendedAttribute Name="Script" Value="result=param"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="throwException" Name="Бросаем исключение">
            <Description>Генерация исключения, если параметр where не пустая строка</Description>
            <FormalParameters>
                <FormalParameter Id="where" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="msg" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.ThrowException"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="sendRequestToOGV" Name="Передача запроса в ОГВ (электронно)">
            <FormalParameters>
                <FormalParameter Id="packId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="requestId" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="kontrPart" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="OUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.SendRequestToOGV"/>
            </ExtendedAttributes>
        </Application>
        <Application Id="invokeSeamComponentMethod" Name="Вызов метода Seam компонента">
            <FormalParameters>
                <FormalParameter Id="run" Mode="IN">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="name" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="methodName" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="params" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="resultMsg" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="result" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <ExtendedAttributes>
                <ExtendedAttribute Name="ToolAgentClass" Value="org.cp.shark.plugins.CsInvokeComponentMethod"/>
            </ExtendedAttributes>
        </Application>
    </Applications>
    <DataFields>
        <DataField Id="parentActivity" IsArray="FALSE" Name="parentActivity">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
        </DataField>
        <DataField Id="baseUrl" IsArray="FALSE" Name="baseUrl">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
        </DataField>
        <DataField Id="request" IsArray="FALSE" Name="Запрос">
            <DataType>
                <BasicType Type="INTEGER"/>
            </DataType>
            <InitialValue>null</InitialValue>
            <ExtendedAttributes>
                <ExtendedAttribute Name="entityClass" Value="org.cp.common.Request"/>
                <ExtendedAttribute Name="embedded" Value="1"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="hasParams" IsArray="FALSE" Name="hasParams">
            <DataType>
                <BasicType Type="BOOLEAN"/>
            </DataType>
        </DataField>
        <DataField Id="soapOptCode" IsArray="FALSE" Name="Код настройки адаптера">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
        </DataField>
        <DataField Id="Kontr_part" IsArray="FALSE" Name="Ответственный за контроль">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
            <InitialValue>admin</InitialValue>
            <ExtendedAttributes>
                <ExtendedAttribute Name="participantSource" Value="Kontroler"/>
                <ExtendedAttribute Name="group" Value="Реквизиты обращения"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="infoResult" IsArray="FALSE" Name="Информация о результате">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
            <InitialValue>Произошла ошибка при отправке запроса</InitialValue>
            <ExtendedAttributes>
                <ExtendedAttribute Name="length" Value="1024"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="togo" IsArray="FALSE" Name="Селектор">
            <DataType>
                <BasicType Type="INTEGER"/>
            </DataType>
            <ExtendedAttributes>
                <ExtendedAttribute Name="switchVariable" Value="1"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="Komplekt_doc" IsArray="FALSE" Name="Комплект документов">
            <DataType>
                <BasicType Type="INTEGER"/>
            </DataType>
            <InitialValue>null</InitialValue>
            <ExtendedAttributes>
                <ExtendedAttribute Name="entityClass" Value="org.cp.gossrvc.GossrvcDocPackage"/>
                <ExtendedAttribute Name="embedded" Value="1"/>
                <ExtendedAttribute Name="group" Value="*Комплект документов"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="Zapros" IsArray="FALSE" Name="Запрос">
            <DataType>
                <BasicType Type="INTEGER"/>
            </DataType>
            <InitialValue>null</InitialValue>
            <ExtendedAttributes>
                <ExtendedAttribute Name="entityClass" Value="org.cp.gossrvc.GossrvcRequest"/>
                <ExtendedAttribute Name="embedded" Value="1"/>
                <ExtendedAttribute Name="group" Value="*Запрос"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="Service" IsArray="FALSE" Name="Услуга">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
            <ExtendedAttributes>
                <ExtendedAttribute Name="entityClass" Value="SService"/>
                <ExtendedAttribute Name="group" Value="Реквизиты обращения"/>
                <ExtendedAttribute Name="entityFilter" Value="[parents].parentCardElement.id = %MainService%"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="Zayavitel" IsArray="FALSE" Name="Заявитель">
            <DataType>
                <BasicType Type="INTEGER"/>
            </DataType>
            <InitialValue>null</InitialValue>
            <ExtendedAttributes>
                <ExtendedAttribute Name="entityClass" Value="org.cp.common.ObjectGroup"/>
                <ExtendedAttribute Name="group" Value="Реквизиты заявителя"/>
                <ExtendedAttribute Name="embedded" Value="1"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="Gos_Org" IsArray="FALSE" Name="Орган государственной власти">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
            <ExtendedAttributes>
                <ExtendedAttribute Name="entityClass" Value="SGosOrg"/>
                <ExtendedAttribute Name="entityFilter" Value="(id in (%ogvList%))"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="komment" IsArray="FALSE" Name="Комментарий">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
            <ExtendedAttributes>
                <ExtendedAttribute Name="length" Value="1024"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="requestDeleg" IsArray="FALSE" Name="requestDeleg">
            <DataType>
                <BasicType Type="INTEGER"/>
            </DataType>
            <InitialValue>3</InitialValue>
        </DataField>
        <DataField Id="urlService" IsArray="FALSE" Name="Путь к сервису">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
        </DataField>
        <DataField Id="docWait" IsArray="FALSE" Name="Документ, который мы ожидаем.">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
            <ExtendedAttributes>
                <ExtendedAttribute Name="entityClass" Value="SDocType"/>
            </ExtendedAttributes>
        </DataField>
        <DataField Id="lastSendSoap" IsArray="FALSE" Name="Время последнего запроса">
            <DataType>
                <BasicType Type="DATETIME"/>
            </DataType>
            <InitialValue>null</InitialValue>
        </DataField>
        <DataField Id="recipientCode" IsArray="FALSE" Name="recipientCode">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
        </DataField>
        <DataField Id="recipientName" IsArray="FALSE" Name="recipientName">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
        </DataField>
        <DataField Id="options" IsArray="FALSE" Name="options">
            <DataType>
                <BasicType Type="INTEGER"/>
            </DataType>
        </DataField>
        <DataField Id="ddl" IsArray="FALSE" Name="Срок запроса (дн)">
            <DataType>
                <BasicType Type="INTEGER"/>
            </DataType>
        </DataField>
        <DataField Id="soapComment" IsArray="FALSE" Name="Комментарий при отказе от запроса">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
        </DataField>
        <DataField Id="docWait2" IsArray="FALSE" Name="Документ, который мы ожидаем">
            <DataType>
                <BasicType Type="STRING"/>
            </DataType>
        </DataField>
    </DataFields>
    <WorkflowProcesses>
        <WorkflowProcess AccessLevel="PUBLIC" Id="run_adapter" Name="Вызвать поставщика услуг">
            <ProcessHeader>
                <Created>2012-02-08 16:44:53</Created>
            </ProcessHeader>
            <RedefinableHeader>
                <Author>Zhnyakin</Author>
            </RedefinableHeader>
            <FormalParameters>
                <FormalParameter Id="Komplekt_doc" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Zapros" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Service" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Zayavitel" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Gos_Org" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Kontr_part" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="komment" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="baseUrl" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="infoResult" Mode="INOUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <DataFields>
                <DataField Id="nowDate" IsArray="FALSE" Name="nowDate">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="soapContext" IsArray="FALSE" Name="Выполнение запроса">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="entityClass" Value="org.cp.soap.SoapContext"/>
                        <ExtendedAttribute Name="embedded" Value="1"/>
                    </ExtendedAttributes>
                </DataField>
                <DataField Id="needTaskWait" IsArray="FALSE" Name="needTaskWait">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </DataField>
                <DataField Id="soapAdapter" IsArray="FALSE" Name="Поставщик услуг">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                    <InitialValue>null</InitialValue>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="entityClass" Value="org.cp.soap.SoapOptions"/>
                    </ExtendedAttributes>
                </DataField>
            </DataFields>
            <Activities>
                <Activity Id="sir_act3" Name="Произошла ошибка">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra7"/>
                                    <TransitionRef Id="sir_tra2"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="295,142"/>
                        <ExtendedAttribute Name="readable" Value="infoResult,togo"/>
                        <ExtendedAttribute Name="writable" Value="togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="createJbpm">
                    <Implementation>
                        <Tool Id="getEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.soap.SoapOptions"</ActualParameter>
                                <ActualParameter>soapAdapter</ActualParameter>
                                <ActualParameter>"code"</ActualParameter>
                                <ActualParameter>"soapOptCode"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="invokeSeamComponentMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"createSoapContextId"</ActualParameter>
                                <ActualParameter>"soapOptCode"</ActualParameter>
                                <ActualParameter>"infoResult"</ActualParameter>
                                <ActualParameter>"soapContext"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra11"/>
                                    <TransitionRef Id="sir2_tra1"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="205,44"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc_act1" Name="Выберите поставщика услуг">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc_tra4"/>
                                    <TransitionRef Id="run_adapter_tra4"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="115,36"/>
                        <ExtendedAttribute Name="readable" Value="soapAdapter,komment,togo"/>
                        <ExtendedAttribute Name="writable" Value="soapAdapter,komment,togo"/>
                        <ExtendedAttribute Name="required" Value="soapAdapter"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act31" Name="Отправка запроса">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra2"/>
                                    <TransitionRef Id="mfc2_tra1"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="434,50"/>
                        <ExtendedAttribute Name="readable" Value="soapContext,togo"/>
                        <ExtendedAttribute Name="writable" Value="soapContext,togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="createJbpm1" Name="Save Context To Request">
                    <Implementation>
                        <Tool Id="assignVariableDate" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>new java.util.Date();</ActualParameter>
                                <ActualParameter>nowDate</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="setEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"transferDate,soapContext"</ActualParameter>
                                <ActualParameter>"nowDate,soapContext"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="337,108"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act1212" Name="Маршрутизатор">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="687,41"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="setTransferDate">
                    <Implementation>
                        <Tool Id="invokeEntityMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"resultRequestOk"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="496,18"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="setTransferDate21" Name="setTransferDate Deleg">
                    <Implementation>
                        <Tool Id="invokeEntityMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"resultRequestCancel"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="550,106"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="run_adapter_act1" Name="Маршрутизатор">
                    <Route/>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="89,145"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="run_adapter_act2" Name="loginPart">
                    <Implementation>
                        <Tool Id="loginPart" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>Kontr_part</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="66,49"/>
                    </ExtendedAttributes>
                </Activity>
            </Activities>
            <Transitions>
                <Transition From="createJbpm" Id="sir_tra11" To="sir_act3">
                    <Condition Type="CONDITION">!"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act3" Id="sir_tra7" Name="Повторить запрос" To="mfc_act1">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act3" Id="sir_tra2" Name="Отменить запрос" To="sir_act1212">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="762,376"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm" Id="sir2_tra1" To="createJbpm1">
                    <Condition Type="CONDITION">"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc_act1" Id="mfc_tra4" Name="Выполнить" To="createJbpm">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act31" Id="mfc2_tra1" Name="Отказаться от выполнения запроса" To="setTransferDate21">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                        <ExtendedAttribute Name="noCheck"/>
                        <ExtendedAttribute Name="skipRequired"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act31" Id="mfc2_tra2" Name="Запрос выполнен" To="setTransferDate">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm1" Id="mfc2_tra4" To="sir_act31">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setTransferDate" Id="run_adapter_tra1" To="sir_act1212">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setTransferDate21" Id="run_adapter_tra3" To="sir_act1212">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc_act1" Id="run_adapter_tra4" Name="Отказаться" To="run_adapter_act1">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                        <ExtendedAttribute Name="noCheck"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="run_adapter_act2" Id="run_adapter_tra2" To="mfc_act1">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
            </Transitions>
            <ExtendedAttributes>
                <ExtendedAttribute Name="JaWE_GRAPH_END_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=Kontroler,CONNECTING_ACTIVITY_ID=run_adapter_act1,X_OFFSET=168,Y_OFFSET=239,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=END_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_START_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=FreeTextExpressionParticipant,CONNECTING_ACTIVITY_ID=run_adapter_act2,X_OFFSET=53,Y_OFFSET=153,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=START_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_END_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=FreeTextExpressionParticipant,CONNECTING_ACTIVITY_ID=sir_act1212,X_OFFSET=853,Y_OFFSET=76,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=END_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_WORKFLOW_PARTICIPANT_ORDER" Value="FreeTextExpressionParticipant;Kontroler"/>
                <ExtendedAttribute Name="proc_identity" Value="Komplekt_doc,docWait,Gos_Org,docWait2"/>
            </ExtendedAttributes>
        </WorkflowProcess>
        <WorkflowProcess Id="mfc" Name="МФЦ">
            <ProcessHeader>
                <Created>2012-02-08 16:44:53</Created>
            </ProcessHeader>
            <RedefinableHeader>
                <Author>Zhnyakin</Author>
            </RedefinableHeader>
            <FormalParameters>
                <FormalParameter Id="Komplekt_doc" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Zapros" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Service" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Zayavitel" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Gos_Org" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Kontr_part" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="komment" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="baseUrl" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="infoResult" Mode="INOUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <DataFields>
                <DataField Id="url" IsArray="FALSE" Name="url">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <InitialValue>/core-process-coreps-webservices-2.1.1-SNAPSHOT/ManageService</InitialValue>
                </DataField>
                <DataField Id="templ" IsArray="FALSE" Name="templ">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <InitialValue>&lt;#setting number_format="computer"&gt;
&lt;#setting locale="ru_RU"&gt;

&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ext="http://ext.rtk.cp.org/" xmlns:typ="http://idecs.nvg.ru/privateoffice/ws/types/"&gt;
   &lt;soapenv:Header/&gt;
   &lt;soapenv:Body&gt;
      &lt;ext:createService&gt;
         &lt;requestHeader&gt;
                        &lt;#if Zapros??&gt;
                &lt;typ:requestId&gt;${Zapros.id}&lt;/typ:requestId&gt;
                        &lt;/#if&gt; 
         &lt;/requestHeader&gt;
         &lt;regData&gt;
                        &lt;mode&gt;2&lt;/mode&gt;         
            &lt;serviceId&gt;${Zapros.options.extService}&lt;/serviceId&gt;
            &lt;goalId&gt;${Zapros.options.docTypeId.id}&lt;/goalId&gt;
            &lt;owner&gt;${Gos_Org.id}&lt;/owner&gt;
            &lt;callbackUrl&gt;${baseUrl}${callbackUrl}&lt;/callbackUrl&gt;
                        &lt;#if Zapros??&gt;
                    &lt;reqNumber&gt;${Zapros.requestNum}&lt;/reqNumber&gt;
                    &lt;reqDate&gt;${Zapros.requestDate?string('yyyy-MM-dd')}&lt;/reqDate&gt;
                &lt;request&gt;true&lt;/request&gt;
                                &lt;#assign sendDocs = Komplekt_doc.getTransferDoc(Zapros.id)&gt;  
                        &lt;#else&gt;
                    &lt;request&gt;false&lt;/request&gt;
                                &lt;#assign sendDocs = Komplekt_doc.getTransferDoc(null)&gt;
                        &lt;/#if&gt;
	&lt;senderInfo&gt;
        &lt;#if userPrefs??&gt;
                &lt;owner&gt;${userPrefs.ownerName}&lt;/owner&gt;
                &lt;kontroller&gt;${userPrefs.userInfo}&lt;/kontroller&gt;
        &lt;/#if&gt;  
        &lt;packNum&gt;${Komplekt_doc}&lt;/packNum&gt;
    &lt;/senderInfo&gt;      
    &lt;#if Zayavitel.selectedItem.objectClass=='org.cp.model.common.Person'&gt;      
	    &lt;applicant&gt;
	       &lt;firstName&gt;${Zayavitel.selectedObject.firstName}&lt;/firstName&gt;
	       &lt;lastName&gt;${Zayavitel.selectedObject.lastName}&lt;/lastName&gt;
	       &lt;#if Zayavitel.selectedObject.middleName??&gt;
	                &lt;middleName&gt;${Zayavitel.selectedObject.middleName}&lt;/middleName&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.address??&gt;
	                &lt;address&gt;${Zayavitel.selectedObject.address}&lt;/address&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.factAddress??&gt;               
	                &lt;factAddress&gt;${Zayavitel.selectedObject.factAddress}&lt;/factAddress&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.email??&gt;
	                &lt;email&gt;${Zayavitel.selectedObject.email}&lt;/email&gt;
	       &lt;/#if&gt;     
	       &lt;#if Zayavitel.selectedObject.birthdate??&gt;               
	                &lt;birthdate&gt;${Zayavitel.selectedObject.birthdate?string('yyyy-MM-dd')}&lt;/birthdate&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.passSeria??&gt;               
	                &lt;passSeria&gt;${Zayavitel.selectedObject.passSeria}&lt;/passSeria&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.passNo??&gt;
	                &lt;passNo&gt;${Zayavitel.selectedObject.passNo}&lt;/passNo&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.passFrom??&gt;
	                &lt;passFrom&gt;${Zayavitel.selectedObject.passFrom}&lt;/passFrom&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.passDate??&gt;
	                &lt;passDate&gt;${Zayavitel.selectedObject.passDate?string('yyyy-MM-dd')}&lt;/passDate&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.phone??&gt;
	                &lt;phone&gt;${Zayavitel.selectedObject.phone}&lt;/phone&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.cellPhone??&gt;
	                &lt;cellPhone&gt;${Zayavitel.selectedObject.cellPhone}&lt;/cellPhone&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.inn??&gt;
	                &lt;inn&gt;${Zayavitel.selectedObject.inn}&lt;/inn&gt;
	       &lt;/#if&gt;
	       &lt;#if Zayavitel.selectedObject.sex??&gt;               
	                &lt;sex&gt;${Zayavitel.selectedObject.sex}&lt;/sex&gt;
	       &lt;/#if&gt;             
	       &lt;#if Zayavitel.selectedObject.snils??&gt;
	                &lt;snils&gt;${Zayavitel.selectedObject.snils}&lt;/snils&gt;
	       &lt;/#if&gt;
	    &lt;/applicant&gt;
    &lt;#else&gt;
		&lt;applicantAgent&gt;
		   &lt;#if Zayavitel.selectedObject.name??&gt;
           &lt;name&gt;${Zayavitel.selectedObject.name}&lt;/name&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.inn??&gt;
		   &lt;inn&gt;${Zayavitel.selectedObject.inn}&lt;/inn&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.kpp??&gt;
		   &lt;kpp&gt;${Zayavitel.selectedObject.kpp}&lt;/kpp&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.address??&gt;
           &lt;address&gt;${Zayavitel.selectedObject.address}&lt;/address&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.sameAddress??&gt;
           &lt;sameAddress&gt;${Zayavitel.selectedObject.sameAddress?string('true','false')}&lt;/sameAddress&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.ogrn??&gt;
           &lt;ogrn&gt;${Zayavitel.selectedObject.ogrn}&lt;/ogrn&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.taxRegDoc??&gt;
           &lt;taxRegDoc&gt;${Zayavitel.selectedObject.taxRegDoc}&lt;/taxRegDoc&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.govRegDoc??&gt;
           &lt;govRegDoc&gt;${Zayavitel.selectedObject.govRegDoc}&lt;/govRegDoc&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.govRegDate??&gt;
           &lt;govRegDate&gt;${Zayavitel.selectedObject.govRegDate?string('yyyy-MM-dd')}&lt;/govRegDate&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.phone??&gt;
           &lt;phone&gt;${Zayavitel.selectedObject.phone}&lt;/phone&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.email??&gt;
           &lt;email&gt;${Zayavitel.selectedObject.email}&lt;/email&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.postAddress??&gt;
           &lt;postAddress&gt;${Zayavitel.selectedObject.postAddress}&lt;/postAddress&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.bossPosition??&gt;
           &lt;bossPosition&gt;${Zayavitel.selectedObject.bossPosition}&lt;/bossPosition&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.bossFio??&gt;
           &lt;bossFio&gt;${Zayavitel.selectedObject.bossFio}&lt;/bossFio&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.bossFioR??&gt;
           &lt;bossFioR&gt;${Zayavitel.selectedObject.bossFioR}&lt;/bossFioR&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.buhFio??&gt;
           &lt;buhFio&gt;${Zayavitel.selectedObject.buhFio}&lt;/buhFio&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.bank??&gt;
           &lt;bank&gt;${Zayavitel.selectedObject.bank}&lt;/bank&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.bankAccount??&gt;
           &lt;bankAccount&gt;${Zayavitel.selectedObject.bankAccount}&lt;/bankAccount&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.agentType??&gt;
           &lt;agentType&gt;${Zayavitel.selectedObject.agentType}&lt;/agentType&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.lastCtrlDate??&gt;
           &lt;lastCtrlDate&gt;${Zayavitel.selectedObject.lastCtrlDate?string('yyyy-MM-dd')}&lt;/lastCtrlDate&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.nameShort??&gt;
           &lt;nameShort&gt;${Zayavitel.selectedObject.nameShort}&lt;/nameShort&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.opf??&gt;
           &lt;opf&gt;${Zayavitel.selectedObject.opf}&lt;/opf&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.passport??&gt;
           &lt;passport&gt;${Zayavitel.selectedObject.passport}&lt;/passport&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.govRegOgv??&gt;
           &lt;govRegOgv&gt;${Zayavitel.selectedObject.govRegOgv}&lt;/govRegOgv&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.archCases??&gt;
           &lt;archCases&gt;${Zayavitel.selectedObject.archCases}&lt;/archCases&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.person??&gt;
			&lt;person&gt;
		       &lt;firstName&gt;${Zayavitel.selectedObject.person.firstName}&lt;/firstName&gt;
		       &lt;lastName&gt;${Zayavitel.selectedObject.person.lastName}&lt;/lastName&gt;
		       &lt;#if Zayavitel.selectedObject.person.middleName??&gt;
		                &lt;middleName&gt;${Zayavitel.selectedObject.person.middleName}&lt;/middleName&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.address??&gt;
		                &lt;address&gt;${Zayavitel.selectedObject.person.address}&lt;/address&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.factAddress??&gt;               
		                &lt;factAddress&gt;${Zayavitel.selectedObject.person.factAddress}&lt;/factAddress&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.email??&gt;
		                &lt;email&gt;${Zayavitel.selectedObject.person.email}&lt;/email&gt;
		       &lt;/#if&gt;     
		       &lt;#if Zayavitel.selectedObject.person.birthdate??&gt;               
		                &lt;birthdate&gt;${Zayavitel.selectedObject.person.birthdate?string('yyyy-MM-dd')}&lt;/birthdate&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.passSeria??&gt;               
		                &lt;passSeria&gt;${Zayavitel.selectedObject.person.passSeria}&lt;/passSeria&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.passNo??&gt;
		                &lt;passNo&gt;${Zayavitel.selectedObject.person.passNo}&lt;/passNo&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.passFrom??&gt;
		                &lt;passFrom&gt;${Zayavitel.selectedObject.person.passFrom}&lt;/passFrom&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.passDate??&gt;
		                &lt;passDate&gt;${Zayavitel.selectedObject.person.passDate?string('yyyy-MM-dd')}&lt;/passDate&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.phone??&gt;
		                &lt;phone&gt;${Zayavitel.selectedObject.person.phone}&lt;/phone&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.cellPhone??&gt;
		                &lt;cellPhone&gt;${Zayavitel.selectedObject.person.cellPhone}&lt;/cellPhone&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.inn??&gt;
		                &lt;inn&gt;${Zayavitel.selectedObject.person.inn}&lt;/inn&gt;
		       &lt;/#if&gt;
		       &lt;#if Zayavitel.selectedObject.person.sex??&gt;               
		                &lt;sex&gt;${Zayavitel.selectedObject.person.sex}&lt;/sex&gt;
		       &lt;/#if&gt;             
		       &lt;#if Zayavitel.selectedObject.person.snils??&gt;
		                &lt;snils&gt;${Zayavitel.selectedObject.person.snils}&lt;/snils&gt;
		       &lt;/#if&gt;
			&lt;/person&gt;			   
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.isOgv??&gt;
           &lt;isOgv&gt;${Zayavitel.selectedObject.isOgv?string('true','false')}&lt;/isOgv&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.begValidDate??&gt;
           &lt;begValidDate&gt;${Zayavitel.selectedObject.begValidDate?string('yyyy-MM-dd')}&lt;/begValidDate&gt;
           &lt;/#if&gt;
		   &lt;#if Zayavitel.selectedObject.endValidDate??&gt;
           &lt;endValidDate&gt;${Zayavitel.selectedObject.endValidDate?string('yyyy-MM-dd')}&lt;/endValidDate&gt;
           &lt;/#if&gt;
        &lt;/applicantAgent&gt;
    &lt;/#if&gt;
                        &lt;#list sendDocs as doc&gt;
                    &lt;item&gt;
                                &lt;docTypeId&gt;${doc.docTypeId}&lt;/docTypeId&gt;
                                &lt;docClassId&gt;${doc.docClassId}&lt;/docClassId&gt;
                                        &lt;#list doc.jcrAttachs as attach&gt;
                                                &lt;files&gt;
                                                        &lt;FileBinary&gt;${attach.attachedFile.base64Content}&lt;/FileBinary&gt;
                                                        &lt;Filename&gt;${attach.attachedFile.name}&lt;/Filename&gt;
                                        &lt;/files&gt;
                                        &lt;/#list&gt;
                    &lt;/item&gt;
                 &lt;/#list&gt; 
                        &lt;#list request.attrValsSelect as at&gt;
                                &lt;#if at.value?? || at.attr.dataTypeName=='tclass'&gt;                        
                                        &lt;attr&gt;
                                                &lt;code&gt;${at.attr.code}&lt;/code&gt;
                                                &lt;cloneNum&gt;${at.id}&lt;/cloneNum&gt;       
                                                &lt;#if at.parent??&gt;
                                                        &lt;parentCode&gt;${at.parent.attr.code}&lt;/parentCode&gt;
                                                        &lt;parentCloneNum&gt;${at.parent.id}&lt;/parentCloneNum&gt;
                                                &lt;/#if&gt;
                                                &lt;#if (at.attr.dataTypeName=='tstring')&gt;
                                                        &lt;stringValue&gt;${at.value}&lt;/stringValue&gt;                              
                                                &lt;#elseif (at.attr.dataTypeName=='tboolean')&gt;
                                                        &lt;booleanValue&gt;${at.value?string("true", "false")}&lt;/booleanValue&gt;
                                                &lt;#elseif (at.attr.dataTypeName=='tlong')&gt;
                                                        &lt;longValue&gt;${at.value}&lt;/longValue&gt;                          
                                                &lt;#elseif (at.attr.dataTypeName=='tdouble')&gt;
                                                        &lt;doubleValue&gt;${at.value}&lt;/doubleValue&gt;
                                                &lt;#elseif (at.attr.dataTypeName=='tdate')&gt;
                                                        &lt;dateValue&gt;${at.value?string('yyyy-MM-dd')}&lt;/dateValue&gt;                             
                                                &lt;/#if&gt;
                                        &lt;/attr&gt;
                                &lt;/#if&gt;
            &lt;/#list&gt;                              
         &lt;/regData&gt;
      &lt;/ext:createService&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;</InitialValue>
                    <Description>Универсальный - И на запрос и на Делегирование</Description>
                </DataField>
                <DataField Id="tempResult" IsArray="FALSE" Name="templResult">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <InitialValue>&lt;#ftl ns_prefixes={'a':'http://schemas.xmlsoap.org/soap/envelope/',
				   'ns3':'http://ext.rtk.cp.org/',
				   'ns2': 'http://idecs.nvg.ru/privateoffice/ws/types/'}/&gt;
                   
&lt;#list docxml["a:Envelope/a:Body/ns3:createServiceResponse/return/eServiceResult/ns2:comment"] as k&gt;
${k}
&lt;/#list&gt;</InitialValue>
                </DataField>
                <DataField Id="resTempl" IsArray="FALSE" Name="resTempl">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="response" IsArray="FALSE" Name="response">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="nowDate" IsArray="FALSE" Name="nowDate">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="callbackUrl" IsArray="FALSE" Name="callbackUrl">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <InitialValue>/core-process-coreps-webservices-2.1.1-SNAPSHOT/TransferResponseOgvRequestWS</InitialValue>
                </DataField>
            </DataFields>
            <Activities>
                <Activity Id="setTransferDate">
                    <Implementation>
                        <Tool Id="assignVariableDate" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>new java.util.Date();</ActualParameter>
                                <ActualParameter>nowDate</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="setEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"transferDate"</ActualParameter>
                                <ActualParameter>"nowDate"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="590,15"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act3" Name="Произошла ошибка при вызове сервиса">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra7"/>
                                    <TransitionRef Id="sir_tra2"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="385,43"/>
                        <ExtendedAttribute Name="readable" Value="infoResult,togo"/>
                        <ExtendedAttribute Name="writable" Value="togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="setMessage">
                    <Implementation>
                        <Tool Id="assignVariable" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>resTempl</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="490,175"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="createJbpm">
                    <Implementation>
                        <Tool Id="FreemarkerPlugin" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>templ</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                                <ActualParameter>resTempl</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="sendSoapRequest" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"".equals(infoResult)</ActualParameter>
                                <ActualParameter>(urlService==null||"".equals(urlService) ? baseUrl+url : urlService)</ActualParameter>
                                <ActualParameter>"startProcessRequest"</ActualParameter>
                                <ActualParameter>resTempl</ActualParameter>
                                <ActualParameter>10000</ActualParameter>
                                <ActualParameter>response</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="assignVariable" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>resTempl</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="FreemarkerPlugin" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"".equals(infoResult)</ActualParameter>
                                <ActualParameter>tempResult</ActualParameter>
                                <ActualParameter>response</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                                <ActualParameter>resTempl</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra11"/>
                                    <TransitionRef Id="sir2_tra1"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="295,89"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act12" Name="Маршрутизатор">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra5"/>
                                    <TransitionRef Id="sir_tra3"/>
                                    <TransitionRef Id="sir_tra6"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="433,90"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act4" Name="Завершаем запускающую задачу">
                    <Implementation>
                        <Tool Id="completeCustomActivity" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>parentActivity</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="698,135"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act121" Name="Маршрутизатор">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc_tra1"/>
                                    <TransitionRef Id="mfc_tra3"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="123,132"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="setTransferDate1" Name="setTransferDate Deleg">
                    <Implementation>
                        <Tool Id="assignVariableDate" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>new java.util.Date();</ActualParameter>
                                <ActualParameter>nowDate</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="setEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"transferDate,resultMode"</ActualParameter>
                                <ActualParameter>"nowDate,requestDeleg"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="571,101"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc_act1" Name="Введите дополнительные параметры">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="96,25"/>
                        <ExtendedAttribute Name="readable" Value="request"/>
                        <ExtendedAttribute Name="writable" Value="request"/>
                        <ExtendedAttribute Name="required" Value="request"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act1211" Name="Маршрутизатор">
                    <Route/>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="75,33"/>
                    </ExtendedAttributes>
                </Activity>
            </Activities>
            <Transitions>
                <Transition From="sir_act12" Id="sir_tra3" To="setTransferDate">
                    <Condition Type="CONDITION">"Заявка принята".equals(resTempl)&amp;&amp;Zapros!=null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setTransferDate" Id="sir_tra9" To="sir_act4">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm" Id="sir_tra11" To="sir_act3">
                    <Condition Type="CONDITION">!"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act3" Id="sir_tra7" Name="Повторить запрос" To="sir_act121">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="336,337"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act12" Id="sir_tra5" To="setTransferDate1">
                    <Condition Type="CONDITION">"Заявка принята".equals(resTempl)&amp;&amp;Zapros==null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act12" Id="sir_tra6" To="setMessage">
                    <Condition Type="CONDITION">!"Заявка принята".equals(resTempl)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setMessage" Id="sir_tra14" To="sir_act3">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act3" Id="sir_tra2" Name="Отменить запрос" To="sir_act4">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="729,311"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm" Id="sir2_tra1" To="sir_act12">
                    <Condition Type="CONDITION">"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act121" Id="mfc_tra1" To="createJbpm">
                    <Condition Type="CONDITION">hasParams==false</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setTransferDate1" Id="mfc_tra2" To="sir_act4">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act121" Id="mfc_tra3" To="mfc_act1">
                    <Condition Type="CONDITION">hasParams==true</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc_act1" Id="mfc_tra4" Name="Выполнить" To="createJbpm">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act1211" Id="mfc_tra5" To="sir_act121">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
            </Transitions>
            <ExtendedAttributes>
                <ExtendedAttribute Name="JaWE_GRAPH_START_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=FreeTextExpressionParticipant,CONNECTING_ACTIVITY_ID=sir_act1211,X_OFFSET=227,Y_OFFSET=4,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=START_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_END_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=FreeTextExpressionParticipant,CONNECTING_ACTIVITY_ID=sir_act4,X_OFFSET=820,Y_OFFSET=56,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=END_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_WORKFLOW_PARTICIPANT_ORDER" Value="FreeTextExpressionParticipant;Kontroler"/>
                <ExtendedAttribute Name="proc_identity" Value="Komplekt_doc,docWait,Gos_Org,docWait2"/>
            </ExtendedAttributes>
        </WorkflowProcess>
        <WorkflowProcess Id="mfc2" Name="МФЦ Адаптер">
            <ProcessHeader>
                <Created>2012-02-08 16:44:53</Created>
            </ProcessHeader>
            <RedefinableHeader>
                <Author>Zhnyakin</Author>
            </RedefinableHeader>
            <FormalParameters>
                <FormalParameter Id="Komplekt_doc" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Zapros" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Service" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Zayavitel" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Gos_Org" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Kontr_part" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="komment" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="baseUrl" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="infoResult" Mode="INOUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <DataFields>
                <DataField Id="nowDate" IsArray="FALSE" Name="nowDate">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="callbackUrl" IsArray="FALSE" Name="callbackUrl">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <InitialValue>/core-process-coreps-webservices-2.1.1-SNAPSHOT/TransferResponseOgvRequestWS</InitialValue>
                </DataField>
                <DataField Id="soapContext" IsArray="FALSE" Name="Выполнение запроса">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="entityClass" Value="org.cp.soap.SoapContext"/>
                        <ExtendedAttribute Name="embedded" Value="1"/>
                    </ExtendedAttributes>
                </DataField>
                <DataField Id="needTaskWait" IsArray="FALSE" Name="needTaskWait">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </DataField>
                <DataField Id="complete" IsArray="FALSE" Name="complete">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </DataField>
                <DataField Id="result" IsArray="FALSE" Name="result">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
            </DataFields>
            <Activities>
                <Activity Id="setTransferDate">
                    <Implementation>
                        <Tool Id="invokeEntityMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"resultRequestOk"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="738,104"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act3" Name="Произошла ошибка">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra7"/>
                                    <TransitionRef Id="sir_tra2"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="324,111"/>
                        <ExtendedAttribute Name="readable" Value="Gos_Org,docWait,infoResult,Komplekt_doc,togo"/>
                        <ExtendedAttribute Name="writable" Value="togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="createJbpm">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"createSoapContextId"</ActualParameter>
                                <ActualParameter>"soapOptCode"</ActualParameter>
                                <ActualParameter>"infoResult"</ActualParameter>
                                <ActualParameter>"soapContext"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra11"/>
                                    <TransitionRef Id="sir2_tra1"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="205,44"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act4" Name="Завершаем запускающую задачу">
                    <Implementation>
                        <Tool Id="completeCustomActivity" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>parentActivity</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="876,116"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act121" Name="Маршрутизатор">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc_tra1"/>
                                    <TransitionRef Id="mfc_tra3"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="75,141"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc_act1" Name="Введите дополнительные параметры">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="69,96"/>
                        <ExtendedAttribute Name="readable" Value="Gos_Org,docWait,request,Komplekt_doc"/>
                        <ExtendedAttribute Name="writable" Value="request"/>
                        <ExtendedAttribute Name="required" Value="request"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act31" Name="Отправка запроса">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <Deadline Execution="SYNCHR">
                        <DeadlineCondition>var d=new java.util.Date();
d.setTime(ACTIVITY_ACTIVATED_TIME.getTime()+ddl*86400000);
d;</DeadlineCondition>
                        <ExceptionName>ddlWaitDocsEnt</ExceptionName>
                    </Deadline>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra2"/>
                                    <TransitionRef Id="mfc2_tra1"/>
                                    <TransitionRef Id="mfc2_tra13"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="498,61"/>
                        <ExtendedAttribute Name="readable" Value="Gos_Org,docWait,soapContext,Komplekt_doc,togo"/>
                        <ExtendedAttribute Name="writable" Value="soapContext,togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="createJbpm1" Name="Save Context To Request">
                    <Implementation>
                        <Tool Id="assignVariableDate" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>new java.util.Date();</ActualParameter>
                                <ActualParameter>nowDate</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="setEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"transferDate,soapContext"</ActualParameter>
                                <ActualParameter>"nowDate,soapContext"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="442,12"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc2_act2" Name="Get needTaskWait">
                    <Implementation>
                        <Tool Id="getEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.soap.SoapContext"</ActualParameter>
                                <ActualParameter>soapContext</ActualParameter>
                                <ActualParameter>"parent.needTaskWait"</ActualParameter>
                                <ActualParameter>"needTaskWait"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra5"/>
                                    <TransitionRef Id="mfc2_tra7"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="719,189"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="clearContext1" Name="Set needTaskWait">
                    <Implementation>
                        <Tool Id="assignVariable" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"Не нужна задача ожидания"</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="613,102"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc2_act21" Name="Save Result">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"saveSoapResult"</ActualParameter>
                                <ActualParameter>"Komplekt_doc,soapContext,Zapros"</ActualParameter>
                                <ActualParameter>"infoResult"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra9"/>
                                    <TransitionRef Id="mfc2_tra8"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="578,195"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="setTransferDate2" Name="setTransferDate Deleg">
                    <Implementation>
                        <Tool Id="invokeEntityMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"resultRequestDeleg"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="682,17"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="setTransferDate21" Name="setTransferDate Deleg">
                    <Implementation>
                        <Tool Id="assignVariable" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"Отказ в выполнении запроса"</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="invokeEntityMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"resultRequestCancel"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="1003,23"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc2_act1" Name="Запустить адаптер">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="APPLICATION">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"runScript"</ActualParameter>
                                <ActualParameter>"soapContext,%processInstanceId%,%activityInstanceId%"</ActualParameter>
                                <ActualParameter>"infoResult"</ActualParameter>
                                <ActualParameter>"result"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="getEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.soap.SoapContext"</ActualParameter>
                                <ActualParameter>soapContext</ActualParameter>
                                <ActualParameter>"complete,lastSendSoap"</ActualParameter>
                                <ActualParameter>"complete,lastSendSoap"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra11"/>
                                    <TransitionRef Id="mfc2_tra12"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="390,170"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act1211" Name="Маршрутизатор">
                    <Route/>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="65,60"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act12111" Name="Маршрутизатор">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra5"/>
                                    <TransitionRef Id="sir_tra3"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="541,11"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc2_act3" Name="Описать причину отказа">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="799,9"/>
                        <ExtendedAttribute Name="readable" Value="soapComment"/>
                        <ExtendedAttribute Name="writable" Value="soapComment"/>
                        <ExtendedAttribute Name="required" Value="soapComment"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc2_act4" Name="Маршрутизатор(пар-ры адаптера)">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra15"/>
                                    <TransitionRef Id="mfc2_tra17"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="327,5"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="createJbpm2" Name="Заполняем вх. пар-ры адаптера">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"fillContextParamsAdapter"</ActualParameter>
                                <ActualParameter>"soapContext,Zapros"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_SIZE" Value="106,63"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="322,102"/>
                    </ExtendedAttributes>
                </Activity>
            </Activities>
            <Transitions>
                <Transition From="sir_act12111" Id="sir_tra3" To="mfc2_act21">
                    <Condition Type="CONDITION">Zapros!=null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setTransferDate" Id="sir_tra9" To="sir_act4">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm" Id="sir_tra11" To="sir_act3">
                    <Condition Type="CONDITION">!"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act3" Id="sir_tra7" Name="Повторить запрос" To="sir_act121">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act12111" Id="sir_tra5" To="setTransferDate2">
                    <Condition Type="CONDITION">Zapros==null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act3" Id="sir_tra2" Name="Отменить запрос" To="sir_act4">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="909,409"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm" Id="sir2_tra1" To="mfc2_act4">
                    <Condition Type="CONDITION">"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act121" Id="mfc_tra1" To="createJbpm">
                    <Condition Type="CONDITION">hasParams==false</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setTransferDate2" Id="mfc_tra2" To="sir_act4">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act121" Id="mfc_tra3" To="mfc_act1">
                    <Condition Type="CONDITION">hasParams==true</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc_act1" Id="mfc_tra4" Name="Выполнить" To="createJbpm">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act31" Id="mfc2_tra1" Name="Отказаться от выполнения запроса" To="mfc2_act3">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                        <ExtendedAttribute Name="noCheck"/>
                        <ExtendedAttribute Name="skipRequired"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act31" Id="mfc2_tra2" Name="Запрос выполнен" To="sir_act12111">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setTransferDate21" Id="mfc2_tra3" To="sir_act4">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act2" Id="mfc2_tra5" To="clearContext1">
                    <Condition Type="CONDITION">!needTaskWait</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act2" Id="mfc2_tra7" To="sir_act4">
                    <Condition Type="CONDITION">needTaskWait</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act21" Id="mfc2_tra8" To="sir_act3">
                    <Condition Type="CONDITION">!"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act21" Id="mfc2_tra9" To="mfc2_act2">
                    <Condition Type="CONDITION">"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act1" Id="mfc2_tra11" To="sir_act12111">
                    <Condition Type="CONDITION">"".equals(infoResult)&amp;&amp;"".equals(result)&amp;&amp;complete</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act1" Id="mfc2_tra12" To="sir_act31">
                    <Condition Type="CONDITION">!"".equals(infoResult)||!"".equals(result)||!complete</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm1" Id="mfc2_tra4" To="mfc2_act1">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act1211" Id="mfc2_tra10" To="sir_act121">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="clearContext1" Id="mfc2_tra6" To="setTransferDate">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act31" Id="mfc2_tra13" To="sir_act31">
                    <Condition Type="EXCEPTION">ddlWaitDocsEnt</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="575,426-523,428"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act3" Id="mfc2_tra14" Name="Выполнить" To="setTransferDate21">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act4" Id="mfc2_tra15" To="createJbpm2">
                    <Condition Type="CONDITION">Zapros!=null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm2" Id="mfc2_tra16" To="createJbpm1">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act4" Id="mfc2_tra17" To="createJbpm1">
                    <Condition Type="CONDITION">Zapros==null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
            </Transitions>
            <ExtendedAttributes>
                <ExtendedAttribute Name="JaWE_GRAPH_START_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=FreeTextExpressionParticipant,CONNECTING_ACTIVITY_ID=sir_act1211,X_OFFSET=74,Y_OFFSET=1,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=START_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_END_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=FreeTextExpressionParticipant,CONNECTING_ACTIVITY_ID=sir_act4,X_OFFSET=892,Y_OFFSET=50,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=END_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_WORKFLOW_PARTICIPANT_ORDER" Value="FreeTextExpressionParticipant;Kontroler"/>
                <ExtendedAttribute Name="proc_identity" Value="Komplekt_doc,docWait,Gos_Org,lastSendSoap,docWait2"/>
            </ExtendedAttributes>
        </WorkflowProcess>
        <WorkflowProcess Id="sir" Name="СИР Адаптер">
            <ProcessHeader>
                <Created>2012-02-08 16:44:53</Created>
            </ProcessHeader>
            <RedefinableHeader>
                <Author>Zhnyakin</Author>
            </RedefinableHeader>
            <FormalParameters>
                <FormalParameter Id="Komplekt_doc" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Zapros" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Service" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Zayavitel" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Gos_Org" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Kontr_part" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="komment" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="baseUrl" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="infoResult" Mode="INOUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <DataFields>
                <DataField Id="nowDate" IsArray="FALSE" Name="nowDate">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="callbackUrl" IsArray="FALSE" Name="callbackUrl">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <InitialValue>/core-process-coreps-webservices-2.1.1-SNAPSHOT/TransferResponseOgvRequestWS</InitialValue>
                </DataField>
                <DataField Id="soapContext" IsArray="FALSE" Name="Выполнение запроса">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="entityClass" Value="org.cp.soap.SoapContext"/>
                        <ExtendedAttribute Name="embedded" Value="1"/>
                    </ExtendedAttributes>
                </DataField>
                <DataField Id="needTaskWait" IsArray="FALSE" Name="needTaskWait">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </DataField>
                <DataField Id="complete" IsArray="FALSE" Name="complete">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </DataField>
                <DataField Id="result" IsArray="FALSE" Name="result">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="sign" IsArray="FALSE" Name="sign">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="step" IsArray="FALSE" Name="step">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                    <InitialValue>1</InitialValue>
                </DataField>
                <DataField Id="dataP" IsArray="FALSE" Name="дата отправки первого запроса">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="delta" IsArray="FALSE" Name="разница в мсек">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </DataField>
            </DataFields>
            <Activities>
                <Activity Id="setTransferDate">
                    <Implementation>
                        <Tool Id="invokeEntityMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"resultRequestOk"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="771,112"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act3" Name="Произошла ошибка">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra7"/>
                                    <TransitionRef Id="sir_tra2"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="171,109"/>
                        <ExtendedAttribute Name="readable" Value="Gos_Org,docWait,infoResult,Komplekt_doc,togo"/>
                        <ExtendedAttribute Name="writable" Value="togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="createJbpm">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"createSoapContextId"</ActualParameter>
                                <ActualParameter>"soapOptCode,false"</ActualParameter>
                                <ActualParameter>"infoResult"</ActualParameter>
                                <ActualParameter>"soapContext"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra11"/>
                                    <TransitionRef Id="sir2_tra1"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="152,6"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act4" Name="Завершаем запускающую задачу">
                    <Implementation>
                        <Tool Id="completeCustomActivity" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>parentActivity</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="885,184"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act121" Name="Маршрутизатор">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc_tra1"/>
                                    <TransitionRef Id="mfc_tra3"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="61,142"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc_act1" Name="Введите дополнительные параметры">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="71,54"/>
                        <ExtendedAttribute Name="readable" Value="Gos_Org,docWait,request,Komplekt_doc"/>
                        <ExtendedAttribute Name="writable" Value="request"/>
                        <ExtendedAttribute Name="required" Value="request"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act31" Name="Отправка запроса">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <Deadline Execution="SYNCHR">
                        <DeadlineCondition>var d=new java.util.Date();
delta = d.getTime() - dataP.getTime();
d.setTime(ACTIVITY_ACTIVATED_TIME.getTime()+ddl*86400000 - delta);
d;</DeadlineCondition>
                        <ExceptionName>ddlWaitDocsEnt2</ExceptionName>
                    </Deadline>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra1"/>
                                    <TransitionRef Id="sir_tra1"/>
                                    <TransitionRef Id="sir_tra21"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="327,35"/>
                        <ExtendedAttribute Name="readable" Value="Gos_Org,docWait,soapContext,Komplekt_doc,togo"/>
                        <ExtendedAttribute Name="writable" Value="soapContext,togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="createJbpm1" Name="Save Context To Request">
                    <Implementation>
                        <Tool Id="assignVariableDate" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>new java.util.Date();</ActualParameter>
                                <ActualParameter>nowDate</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="setEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"transferDate,soapContext"</ActualParameter>
                                <ActualParameter>"nowDate,soapContext"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="394,62"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc2_act2" Name="Get needTaskWait">
                    <Implementation>
                        <Tool Id="getEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.soap.SoapContext"</ActualParameter>
                                <ActualParameter>soapContext</ActualParameter>
                                <ActualParameter>"parent.needTaskWait"</ActualParameter>
                                <ActualParameter>"needTaskWait"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra5"/>
                                    <TransitionRef Id="mfc2_tra7"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="637,118"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="clearContext1" Name="Set needTaskWait">
                    <Implementation>
                        <Tool Id="assignVariable" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"Не нужна задача ожидания"</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="653,40"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc2_act21" Name="Save Result">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"saveSoapResult"</ActualParameter>
                                <ActualParameter>"Komplekt_doc,soapContext,Zapros"</ActualParameter>
                                <ActualParameter>"infoResult"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra9"/>
                                    <TransitionRef Id="mfc2_tra8"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="508,93"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="setTransferDate2" Name="setTransferDate Deleg">
                    <Implementation>
                        <Tool Id="invokeEntityMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"resultRequestDeleg"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="775,3"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="setTransferDate21" Name="setTransferDate Deleg">
                    <Implementation>
                        <Tool Id="assignVariable" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"Отказ в выполнении запроса"</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="invokeEntityMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.common.Request"</ActualParameter>
                                <ActualParameter>request</ActualParameter>
                                <ActualParameter>"resultRequestCancel"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="setEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.soap.SoapContext"</ActualParameter>
                                <ActualParameter>soapContext</ActualParameter>
                                <ActualParameter>"soapComment"</ActualParameter>
                                <ActualParameter>"soapComment"</ActualParameter>
                                <ActualParameter>soapContext</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="784,12"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc2_act11" Name="Запустить адаптер">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="APPLICATION">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"runScript"</ActualParameter>
                                <ActualParameter>"soapContext,%processInstanceId%,%activityInstanceId%"</ActualParameter>
                                <ActualParameter>"infoResult"</ActualParameter>
                                <ActualParameter>"result"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="getEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.soap.SoapContext"</ActualParameter>
                                <ActualParameter>soapContext</ActualParameter>
                                <ActualParameter>"complete,systemStatusName,lastSendSoap"</ActualParameter>
                                <ActualParameter>"complete,sign,lastSendSoap"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra11"/>
                                    <TransitionRef Id="mfc2_tra12"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="412,183"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act311" Name="Отправка запроса">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>DirectorOIV</Performer>
                    <Deadline Execution="SYNCHR">
                        <DeadlineCondition>var d=new java.util.Date();
delta = d.getTime() - dataP.getTime();
d.setTime(ACTIVITY_ACTIVATED_TIME.getTime()+ddl*86400000 - delta);
d;</DeadlineCondition>
                        <ExceptionName>ddlWaitDocsEnt</ExceptionName>
                    </Deadline>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra10"/>
                                    <TransitionRef Id="sir_tra6"/>
                                    <TransitionRef Id="sir_tra19"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="DirectorOIV"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="428,17"/>
                        <ExtendedAttribute Name="readable" Value="Gos_Org,docWait,soapContext,Komplekt_doc,togo"/>
                        <ExtendedAttribute Name="writable" Value="soapContext,togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act1">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra8"/>
                                    <TransitionRef Id="sir_tra4"/>
                                    <TransitionRef Id="sir_tra17"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="546,182"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act32" Name="Произошла ошибка">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>DirectorOIV</Performer>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra13"/>
                                    <TransitionRef Id="sir_tra12"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="DirectorOIV"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="232,61"/>
                        <ExtendedAttribute Name="readable" Value="Gos_Org,docWait,infoResult,Komplekt_doc,togo"/>
                        <ExtendedAttribute Name="writable" Value="togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act2">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra16"/>
                                    <TransitionRef Id="sir_tra15"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="243,191"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act5">
                    <Implementation>
                        <Tool Id="assignVariableInt" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>2</ActualParameter>
                                <ActualParameter>step</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="assignVariableDate" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>new java.util.Date()</ActualParameter>
                                <ActualParameter>dataP</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="665,185"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act1211" Name="Маршрутизатор">
                    <Route/>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="51,53"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act12111" Name="Маршрутизатор">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra5"/>
                                    <TransitionRef Id="sir_tra3"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="474,4"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act6" Name="Описать причину отказа">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="623,38"/>
                        <ExtendedAttribute Name="readable" Value="soapComment"/>
                        <ExtendedAttribute Name="writable" Value="soapComment"/>
                        <ExtendedAttribute Name="required" Value="soapComment"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="createJbpm2">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"fillContextParamsAdapter"</ActualParameter>
                                <ActualParameter>"soapContext,Zapros"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="267,98"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act7" Name="Маршрутизатор(пар-ры адаптера)">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra22"/>
                                    <TransitionRef Id="sir_tra23"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="268,6"/>
                    </ExtendedAttributes>
                </Activity>
            </Activities>
            <Transitions>
                <Transition From="sir_act12111" Id="sir_tra3" To="mfc2_act21">
                    <Condition Type="CONDITION">Zapros!=null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setTransferDate" Id="sir_tra9" To="sir_act4">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm" Id="sir_tra11" To="sir_act3">
                    <Condition Type="CONDITION">!"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act3" Id="sir_tra7" Name="Повторить запрос" To="sir_act121">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act12111" Id="sir_tra5" To="setTransferDate2">
                    <Condition Type="CONDITION">Zapros==null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act3" Id="sir_tra2" Name="Отменить запрос" To="sir_act4">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="894,398"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm" Id="sir2_tra1" To="sir_act7">
                    <Condition Type="CONDITION">"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act121" Id="mfc_tra1" To="createJbpm">
                    <Condition Type="CONDITION">hasParams==false</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setTransferDate2" Id="mfc_tra2" To="sir_act4">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act121" Id="mfc_tra3" To="mfc_act1">
                    <Condition Type="CONDITION">hasParams==true</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc_act1" Id="mfc_tra4" Name="Выполнить" To="createJbpm">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act31" Id="mfc2_tra1" Name="Отказаться от выполнения запроса" To="sir_act6">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                        <ExtendedAttribute Name="noCheck"/>
                        <ExtendedAttribute Name="skipRequired"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="setTransferDate21" Id="mfc2_tra3" To="sir_act4">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act2" Id="mfc2_tra5" To="clearContext1">
                    <Condition Type="CONDITION">!needTaskWait</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="clearContext1" Id="mfc2_tra6" To="setTransferDate">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act2" Id="mfc2_tra7" To="sir_act4">
                    <Condition Type="CONDITION">needTaskWait</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act21" Id="mfc2_tra8" To="sir_act2">
                    <Condition Type="CONDITION">!"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act21" Id="mfc2_tra9" To="mfc2_act2">
                    <Condition Type="CONDITION">"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act11" Id="mfc2_tra11" To="sir_act12111">
                    <Condition Type="CONDITION">"".equals(infoResult)&amp;&amp;"".equals(result)&amp;&amp;complete</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act11" Id="mfc2_tra12" To="sir_act1">
                    <Condition Type="CONDITION">!"".equals(infoResult)||!"".equals(result)||!complete</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm1" Id="mfc2_tra4" To="sir_act31">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act31" Id="sir_tra1" Name="Выполнить" To="mfc2_act11">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act1" Id="sir_tra8" To="sir_act5">
                    <Condition Type="CONDITION">sign=="signSoap"&amp;&amp;step==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act1" Id="sir_tra4" To="sir_act31">
                    <Condition Type="CONDITION">sign!="signSoap"&amp;&amp;step==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act311" Id="sir_tra10" Name="Отказаться от выполнения запроса" To="sir_act6">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                        <ExtendedAttribute Name="noCheck"/>
                        <ExtendedAttribute Name="skipRequired"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act2" Id="sir_tra15" To="sir_act3">
                    <Condition Type="CONDITION">step==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act2" Id="sir_tra16" To="sir_act32">
                    <Condition Type="CONDITION">step==2</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act311" Id="sir_tra6" Name="Выполнить" To="mfc2_act11">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act32" Id="sir_tra12" Name="Отменить запрос" To="sir_act4">
                    <Condition>togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="926,529"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act32" Id="sir_tra13" Name="Повторить запрос" To="sir_act121">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="71,528"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act5" Id="sir_tra14" To="sir_act311">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act1" Id="sir_tra17" To="sir_act311">
                    <Condition Type="CONDITION">step==2</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act1211" Id="sir_tra18" To="sir_act121">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act311" Id="sir_tra19" To="sir_act311">
                    <Condition Type="EXCEPTION">ddlWaitDocsEnt</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="505,550-444,552"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act6" Id="sir_tra20" Name="Выполнить" To="setTransferDate21">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act31" Id="sir_tra21" To="sir_act31">
                    <Condition Type="EXCEPTION">ddlWaitDocsEnt2</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="335,385-402,375"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_BEZIER"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act7" Id="sir_tra22" To="createJbpm2">
                    <Condition Type="CONDITION">Zapros!=null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act7" Id="sir_tra23" To="createJbpm1">
                    <Condition Type="CONDITION">Zapros==null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm2" Id="sir_tra24" To="createJbpm1">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
            </Transitions>
            <ExtendedAttributes>
                <ExtendedAttribute Name="JaWE_GRAPH_START_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=FreeTextExpressionParticipant,CONNECTING_ACTIVITY_ID=sir_act1211,X_OFFSET=99,Y_OFFSET=1,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=START_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_END_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=FreeTextExpressionParticipant,CONNECTING_ACTIVITY_ID=sir_act4,X_OFFSET=921,Y_OFFSET=58,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=END_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_WORKFLOW_PARTICIPANT_ORDER" Value="FreeTextExpressionParticipant;Kontroler;DirectorOIV"/>
                <ExtendedAttribute Name="proc_identity" Value="Komplekt_doc,docWait,Gos_Org,lastSendSoap,docWait2"/>
            </ExtendedAttributes>
        </WorkflowProcess>
        <WorkflowProcess Id="mfcSingle" Name="Запуск адаптера">
            <ProcessHeader>
                <Created>2012-02-08 16:44:53</Created>
            </ProcessHeader>
            <RedefinableHeader>
                <Author>Zhnyakin</Author>
            </RedefinableHeader>
            <FormalParameters>
                <FormalParameter Id="Komplekt_doc" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Zapros" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Service" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Zayavitel" Mode="IN">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Gos_Org" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="Kontr_part" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="komment" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="baseUrl" Mode="IN">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
                <FormalParameter Id="infoResult" Mode="INOUT">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </FormalParameter>
            </FormalParameters>
            <DataFields>
                <DataField Id="nowDate" IsArray="FALSE" Name="nowDate">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="callbackUrl" IsArray="FALSE" Name="callbackUrl">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <InitialValue>/core-process-coreps-webservices-2.1.1-SNAPSHOT/TransferResponseOgvRequestWS</InitialValue>
                </DataField>
                <DataField Id="soapContext" IsArray="FALSE" Name="Выполнение запроса">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="entityClass" Value="org.cp.soap.SoapContext"/>
                        <ExtendedAttribute Name="embedded" Value="1"/>
                    </ExtendedAttributes>
                </DataField>
                <DataField Id="needTaskWait" IsArray="FALSE" Name="needTaskWait">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </DataField>
                <DataField Id="complete" IsArray="FALSE" Name="complete">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </DataField>
                <DataField Id="result" IsArray="FALSE" Name="result">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
            </DataFields>
            <Activities>
                <Activity Id="sir_act3" Name="Произошла ошибка">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="143,70"/>
                        <ExtendedAttribute Name="readable" Value="infoResult,togo"/>
                        <ExtendedAttribute Name="writable" Value="togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="createJbpm">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"createSoapContextId"</ActualParameter>
                                <ActualParameter>"soapOptCode"</ActualParameter>
                                <ActualParameter>"infoResult"</ActualParameter>
                                <ActualParameter>"soapContext"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="sir_tra11"/>
                                    <TransitionRef Id="sir2_tra1"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="140,21"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act4" Name="Завершаем запускающую задачу">
                    <Implementation>
                        <Tool Id="completeCustomActivity" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>parentActivity</ActualParameter>
                                <ActualParameter>infoResult</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="647,35"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act31" Name="Отправка запроса">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performer>Kontroler</Performer>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra2"/>
                                    <TransitionRef Id="mfc2_tra1"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="Kontroler"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="353,21"/>
                        <ExtendedAttribute Name="readable" Value="soapContext,togo"/>
                        <ExtendedAttribute Name="writable" Value="soapContext,togo"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc2_act1" Name="Запустить адаптер">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="APPLICATION">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"runScript"</ActualParameter>
                                <ActualParameter>"soapContext,%processInstanceId%,%activityInstanceId%"</ActualParameter>
                                <ActualParameter>"infoResult"</ActualParameter>
                                <ActualParameter>"result"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                        <Tool Id="getEntityPropertiesByLong" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>"org.cp.soap.SoapContext"</ActualParameter>
                                <ActualParameter>soapContext</ActualParameter>
                                <ActualParameter>"complete"</ActualParameter>
                                <ActualParameter>"complete"</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfc2_tra11"/>
                                    <TransitionRef Id="mfc2_tra12"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="258,23"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="sir_act12111" Name="Маршрутизатор">
                    <Route/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="XOR"/>
                            <Split Type="XOR">
                                <TransitionRefs>
                                    <TransitionRef Id="mfcSingle_tra2"/>
                                    <TransitionRef Id="sir_tra5"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="381,24"/>
                    </ExtendedAttributes>
                </Activity>
                <Activity Id="mfc2_act21" Name="Save Result">
                    <Implementation>
                        <Tool Id="invokeSeamComponentMethod" Type="PROCEDURE">
                            <ActualParameters>
                                <ActualParameter>true</ActualParameter>
                                <ActualParameter>"soapManage"</ActualParameter>
                                <ActualParameter>"saveSoapResult"</ActualParameter>
                                <ActualParameter>"Komplekt_doc,soapContext,Zapros"</ActualParameter>
                                <ActualParameter>"infoResult"</ActualParameter>
                                <ActualParameter>""</ActualParameter>
                            </ActualParameters>
                        </Tool>
                    </Implementation>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_PARTICIPANT_ID" Value="FreeTextExpressionParticipant"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_OFFSET" Value="522,7"/>
                    </ExtendedAttributes>
                </Activity>
            </Activities>
            <Transitions>
                <Transition From="createJbpm" Id="sir_tra11" To="sir_act3">
                    <Condition Type="CONDITION">!"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act12111" Id="sir_tra5" To="mfc2_act21">
                    <Condition Type="CONDITION">Zapros!=null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act3" Id="sir_tra2" Name="Отменить запрос" To="sir_act4">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="635,264"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="createJbpm" Id="sir2_tra1" To="mfc2_act1">
                    <Condition Type="CONDITION">"".equals(infoResult)</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act31" Id="mfc2_tra1" Name="Отказаться" To="sir_act4">
                    <Condition Type="CONDITION">togo==0</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_ORTHOGONAL"/>
                        <ExtendedAttribute Name="noCheck"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act31" Id="mfc2_tra2" Name="Выполнен" To="sir_act12111">
                    <Condition Type="CONDITION">togo==1</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act1" Id="mfc2_tra11" To="sir_act12111">
                    <Condition Type="CONDITION">"".equals(infoResult)&amp;&amp;"".equals(result)&amp;&amp;complete</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act1" Id="mfc2_tra12" To="sir_act31">
                    <Condition Type="CONDITION">!"".equals(infoResult)||!"".equals(result)||!complete</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="mfc2_act21" Id="mfcSingle_tra1" To="sir_act4">
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
                <Transition From="sir_act12111" Id="mfcSingle_tra2" To="sir_act4">
                    <Condition Type="CONDITION">Zapros==null</Condition>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="JaWE_GRAPH_BREAK_POINTS" Value="541,95"/>
                        <ExtendedAttribute Name="JaWE_GRAPH_TRANSITION_STYLE" Value="NO_ROUTING_SPLINE"/>
                    </ExtendedAttributes>
                </Transition>
            </Transitions>
            <ExtendedAttributes>
                <ExtendedAttribute Name="JaWE_GRAPH_START_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=FreeTextExpressionParticipant,CONNECTING_ACTIVITY_ID=createJbpm,X_OFFSET=51,Y_OFFSET=109,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=START_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_END_OF_WORKFLOW" Value="JaWE_GRAPH_PARTICIPANT_ID=FreeTextExpressionParticipant,CONNECTING_ACTIVITY_ID=sir_act4,X_OFFSET=779,Y_OFFSET=93,JaWE_GRAPH_TRANSITION_STYLE=SIMPLE_ROUTING_BEZIER,TYPE=END_DEFAULT"/>
                <ExtendedAttribute Name="JaWE_GRAPH_WORKFLOW_PARTICIPANT_ORDER" Value="FreeTextExpressionParticipant;Kontroler"/>
                <ExtendedAttribute Name="proc_identity" Value="Komplekt_doc,docWait,Gos_Org,docWait2"/>
            </ExtendedAttributes>
        </WorkflowProcess>
    </WorkflowProcesses>
    <ExtendedAttributes>
        <ExtendedAttribute Name="EDITING_TOOL" Value="OpenIcar Modeler"/>
        <ExtendedAttribute Name="EDITING_TOOL_VERSION" Value="1.0-1-C-20071102-1425"/>
        <ExtendedAttribute Name="JaWE_CONFIGURATION" Value="default"/>
    </ExtendedAttributes>
</Package>
